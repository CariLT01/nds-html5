(()=>{"use strict";var e,o,n={101:(e,o,n)=>{var t=n(206);const s=new t.World;s.solver.iterations=5;const i=new t.SAPBroadphase(s);s.broadphase=i,s.gravity=new t.Vec3(0,-9.82,0);let r={};self.addEventListener("message",(e=>{console.log("Worker received message:",e.data.type);const o=e.data;if("step"===o.type){o.timeStep,s.step(1/60);const e=s.bodies.map((e=>({id:function(e,o){const n=Object.keys(e);for(const t of n)if(e[Number(t)]===o)return Number(t)}(r,e),position:{x:e.position.x,y:e.position.y,z:e.position.z},quaternion:{x:e.quaternion.x,y:e.quaternion.y,z:e.quaternion.z,w:e.quaternion.w}})));self.postMessage({type:"update",updates:e})}else if("init"===o.type)s.bodies.splice(0,s.bodies.length),s.constraints.splice(0,s.constraints.length),o.bodies.forEach((e=>{console.log(e);const o=new t.Vec3(e.size.x/2,e.size.y/2,e.size.z/2),n=new t.Box(o),i=new t.Body({mass:e.mass,position:new t.Vec3(e.position.x,e.position.y,e.position.z),quaternion:new t.Quaternion(e.quaternion.x,e.quaternion.y,e.quaternion.z,e.quaternion.w),shape:n});s.addBody(i),r[e.id]=i}));else if("add"===o.type){console.log("Adding body");const e=o.body;console.log(e);const n=new t.Vec3(e.size.x/2,e.size.y/2,e.size.z/2),i=new t.Box(n),a=new t.Body({mass:e.mass,position:new t.Vec3(e.position.x,e.position.y,e.position.z),quaternion:new t.Quaternion(e.quaternion.x,e.quaternion.y,e.quaternion.z,e.quaternion.w),shape:i});s.addBody(a),r[e.id]=a}}))}},t={};function s(e){var o=t[e];if(void 0!==o)return o.exports;var i=t[e]={exports:{}};return n[e](i,i.exports,s),i.exports}s.m=n,s.x=()=>{var e=s.O(void 0,[206],(()=>s(101)));return s.O(e)},e=[],s.O=(o,n,t,i)=>{if(!n){var r=1/0;for(c=0;c<e.length;c++){for(var[n,t,i]=e[c],a=!0,p=0;p<n.length;p++)(!1&i||r>=i)&&Object.keys(s.O).every((e=>s.O[e](n[p])))?n.splice(p--,1):(a=!1,i<r&&(r=i));if(a){e.splice(c--,1);var d=t();void 0!==d&&(o=d)}}return o}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,t,i]},s.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return s.d(o,{a:o}),o},s.d=(e,o)=>{for(var n in o)s.o(o,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((o,n)=>(s.f[n](e,o),o)),[])),s.u=e=>e+".e7c9adb86d964636054c.js",s.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),s.p="",(()=>{var e={101:1};s.f.i=(o,n)=>{e[o]||importScripts(s.p+s.u(o))};var o=this.webpackChunknds_html_css_js=this.webpackChunknds_html_css_js||[],n=o.push.bind(o);o.push=o=>{var[t,i,r]=o;for(var a in i)s.o(i,a)&&(s.m[a]=i[a]);for(r&&r(s);t.length;)e[t.pop()]=1;n(o)}})(),o=s.x,s.x=()=>s.e(206).then(o),s.x()})();